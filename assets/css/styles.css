:root{
  --pc-bg: #f6f9fc;
  --pc-surface: #ffffff;
  --pc-text: #1f2937;
  --pc-muted: #6b7280;
  --pc-border: #e5e7eb;
  --pc-primary: #3b82f6;
  --pc-primary-2: #60a5fa;
  --pc-success: #22c55e;
  --pc-success-2: #34d399;
  --pc-danger: #ef4444;
  --pc-card-radius: 20px;
  --pc-input-radius: 14px;
  --pc-shadow: 0 10px 30px rgba(2,6,23,.07);
}
:root[data-theme="dark"]{
  --pc-bg: #141b25;         /* softer dark background */
  --pc-surface: #1f2a38;    /* card/input surface a bit lighter */
  --pc-text: #eef2f7;       /* brighter text for contrast */
  --pc-muted: #a7b2c3;
  --pc-border: #2d3a4b;     /* lighter borders */
  --pc-primary: #69a7ff;    /* keep brand but slightly brighter */
  --pc-primary-2: #9cc4ff;
  --pc-success: #4dd19b;
  --pc-success-2: #98f0c7;
  --pc-danger: #ffa0a0;
  --pc-shadow: 0 10px 30px rgba(0,0,0,.6);
}
*{ box-sizing: border-box; }
body{ background: var(--pc-bg); color: var(--pc-text); }
.topbar{ height:56px; display:flex; align-items:center; justify-content:flex-end; padding:0 16px; }
.theme-btn{ display:inline-flex; align-items:center; gap:.5rem; background: linear-gradient(135deg,var(--pc-surface),rgba(255,255,255,.6)); border:1px solid var(--pc-border); color:var(--pc-text); border-radius: 999px; padding:8px 14px; box-shadow: var(--pc-shadow); }
.theme-btn:hover{ filter: brightness(1.03); }
.sidebar{ width: 260px; min-height: 100vh; background: var(--pc-surface); border-right: 1px solid var(--pc-border); position: sticky; top:0; display:flex; flex-direction:column; gap:8px; }
.sidebar h5{ color: var(--pc-text); }
.nav-link{ color: var(--pc-text); font-weight: 500; }
.nav-link.active{ color: #fff; background: linear-gradient(135deg, var(--pc-primary), var(--pc-primary-2)); box-shadow: var(--pc-shadow); }
.hoverable{ transition: transform .05s ease, background .2s, color .2s; }
.hoverable:hover{ background: rgba(99,102,241,.08); transform: translateX(3px); }
.card{ border-radius: var(--pc-card-radius); border:1px solid var(--pc-border); background: var(--pc-surface); box-shadow: var(--pc-shadow); }
.btn{ border-radius: 12px; border:0; padding:.7rem 1rem; }
.btn-primary{ background: linear-gradient(135deg, var(--pc-primary), var(--pc-primary-2)); }
.btn-outline-primary{ border:1px solid var(--pc-primary); color: var(--pc-primary); background: transparent; }
.btn-outline-primary:hover{ background: var(--pc-primary); color:#fff; }
.btn-success{ background: linear-gradient(135deg, var(--pc-success), var(--pc-success-2)); }
.btn-outline-danger{ border-radius: 10px; }
.form-control,.form-select{ border-radius: var(--pc-input-radius); border:1px solid var(--pc-border); background: var(--pc-surface); color: var(--pc-text); }
.form-control:focus,.form-select:focus{ box-shadow: 0 0 0 .20rem rgba(59,130,246,.15); border-color: var(--pc-primary); }
.table{ color: var(--pc-text); }
.table-light{ --bs-table-bg: rgba(148,163,184,.15); color: var(--pc-text); }
.modal-content{ background: var(--pc-surface); color: var(--pc-text); border-radius: 18px; }
.mt-auto.small, footer { color: var(--pc-muted); }
.container-fluid .card-body h1,.container-fluid .card-body h2{ letter-spacing: .3px; }


/* ===== Strong dark-mode fixes ===== */
:root[data-theme="dark"] .card,
:root[data-theme="dark"] .offcanvas,
:root[data-theme="dark"] .dropdown-menu {
  background-color: var(--pc-surface) !important;
  color: var(--pc-text);
  border-color: var(--pc-border);
  box-shadow: var(--pc-shadow);
}

:root[data-theme="dark"] .form-text { color: var(--pc-muted); }

/* Table core cells */
:root[data-theme="dark"] .table>:not(caption)>*>* {
  background-color: var(--pc-surface) !important;
  color: var(--pc-text) !important;
  border-color: var(--pc-border) !important;
}

/* Table header */
:root[data-theme="dark"] .table thead th,
:root[data-theme="dark"] .table-light th {
  background-color: #182230 !important;
  color: var(--pc-text) !important;
  border-color: var(--pc-border) !important;
}

/* Table footer or tfoot, if any */
:root[data-theme="dark"] .table tfoot th,
:root[data-theme="dark"] .table tfoot td {
  background-color: #182230 !important;
  color: var(--pc-text) !important;
  border-color: var(--pc-border) !important;
}

/* Inputs */
:root[data-theme="dark"] .form-control,
:root[data-theme="dark"] .form-select {
  background-color: #0f172a !important;
  color: var(--pc-text) !important;
  border: 1px solid var(--pc-border) !important;
}
:root[data-theme="dark"] .form-control::placeholder { color: var(--pc-muted); }

/* Buttons outline visibility */
:root[data-theme="dark"] .btn-outline-primary {
  color: var(--pc-primary) !important;
  border-color: var(--pc-primary) !important;
}
:root[data-theme="dark"] .btn-outline-primary:hover {
  background: var(--pc-primary) !important;
  color: #0b1220 !important;
}

/* Modal */
:root[data-theme="dark"] .modal-content {
  background-color: var(--pc-surface) !important;
  color: var(--pc-text) !important;
  border-color: var(--pc-border) !important;
}

/* Horizontal rules */
:root[data-theme="dark"] hr, 
:root[data-theme="dark"] .border, 
:root[data-theme="dark"] .border-top { border-color: var(--pc-border) !important; }

/* Soft-dark specific tweaks */
:root[data-theme="dark"] .table thead th,
:root[data-theme="dark"] .table-light th { background-color: #223146 !important; }
:root[data-theme="dark"] .form-control,
:root[data-theme="dark"] .form-select { background-color: #172335 !important; }
